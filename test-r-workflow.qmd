---
title: "R Workflow Test"
author: "Test User"
format: html
---

## Setup

This is a test Quarto document to verify R REPL functionality with Neovim.

```{r}
# Load common packages
library(dplyr)
library(ggplot2)

# Check library paths
.libPaths()
```

## Data Manipulation

Test basic dplyr operations:

```{r}
# Create sample data
df <- data.frame(
  name = c("Alice", "Bob", "Charlie", "Diana"),
  age = c(35, 30, 35, 28),
  score = c(85, 92, 78, 95)
)

# View the data
df
```

```{r}
# Use dplyr pipe

df |>
  filter(age > 27) |>
  arrange(desc(score))
```

## Plotting

Test ggplot2:

```{r}
# Create a simple plot
ggplot(df, aes(x = age, y = score)) +
  geom_point(size = 3, color = "blue") +
  geom_text(aes(label = name), vjust = -1) +
  theme_minimal() +
  labs(title = "Age vs Score")
```

```{r}
# Create a simple plot
ggplot(df, aes(x = age, y = score)) +
  geom_point(size = 7, color = "green") +
  geom_text(aes(label = name), vjust = -1) +
  theme_minimal() +
  labs(title = "Age vs Score")
```


## Summary Statistics

```{r}
# Basic summary
summary(df)

# Check environment
ls()
```

## Keybinding Tests

To test your keybindings:

- **Run this cell**: `<leader><CR>` or `Ctrl+Enter` or `Shift+Enter`
- **Run single line**: `<leader>l`
- **View object under cursor**: Move cursor to `df` and press `<leader>rv`
- **Show environment**: `<leader>re`
- **Insert new code chunk**: `Ctrl+Shift+i` or `Alt+i`
- **Insert R assignment**: In insert mode, `Alt+-` should give ` <- `
- **Insert R pipe**: In insert mode, `Alt+m` should give ` |> `

```{r}
# Test assignment and pipe operators
# Type: Alt+- to get <-
# Type: Alt+m to get |>
test_vector <- c(1, 2, 3, 4, 5)
test_vector |> mean()
```
